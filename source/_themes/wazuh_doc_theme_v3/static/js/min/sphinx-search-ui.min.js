var Scorer,splitQuery,stopwords=["a","and","are","as","at","be","but","by","for","if","in","into","is","it","near","no","not","of","on","or","such","that","the","their","then","there","these","they","this","to","was","will","with"],Stemmer=function(){var c={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},h={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},u="[aeiouy]",d="[^aeiou][^aeiouy]*",e=u+"[aeiou]*",p="^("+d+")?"+e+d,m="^("+d+")?"+e+d+e+d,f="^("+d+")?"+u;this.stemWord=function(e){var t,r,a,s,i,n,l,o;return e.length<3||("y"==(o=e.substr(0,1))&&(e=o.toUpperCase()+e.substr(1)),n=/^(.+?)([^s])s$/,(s=/^(.+?)(ss|i)es$/).test(e)?e=e.replace(s,"$1$2"):n.test(e)&&(e=e.replace(n,"$1$2")),n=/^(.+?)(ed|ing)$/,(s=/^(.+?)eed$/).test(e)?(l=s.exec(e),(s=new RegExp(p)).test(l[1])&&(e=e.replace(s=/.$/,""))):n.test(e)&&(i=(l=n.exec(e))[1],(n=new RegExp(f)).test(i))&&(e=i,n=/(at|bl|iz)$/,r=new RegExp("([^aeiouylsz])\\1$"),a=new RegExp("^"+d+u+"[^aeiouwxy]$"),n.test(e)?e+="e":r.test(e)?e=e.replace(s=/.$/,""):a.test(e)&&(e+="e")),(s=/^(.+?)y$/).test(e)&&(i=(l=s.exec(e))[1],(s=new RegExp(f)).test(i))&&(e=i+"i"),(s=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/).test(e)&&(i=(l=s.exec(e))[1],t=l[2],(s=new RegExp(p)).test(i))&&(e=i+c[t]),(s=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/).test(e)&&(i=(l=s.exec(e))[1],t=l[2],(s=new RegExp(p)).test(i))&&(e=i+h[t]),n=/^(.+?)(s|t)(ion)$/,(s=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/).test(e)?(i=(l=s.exec(e))[1],(s=new RegExp(m)).test(i)&&(e=i)):n.test(e)&&(i=(l=n.exec(e))[1]+l[2],(n=new RegExp(m)).test(i))&&(e=i),(s=/^(.+?)e$/).test(e)&&(i=(l=s.exec(e))[1],s=new RegExp(m),n=new RegExp("^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$"),r=new RegExp("^"+d+u+"[^aeiouwxy]$"),s.test(i)||n.test(i)&&!r.test(i))&&(e=i),s=/ll$/,n=new RegExp(m),s.test(e)&&n.test(e)&&(e=e.replace(s=/.$/,"")),"y"==o&&(e=o.toLowerCase()+e.substr(1))),e}};if($(".search")){let e=new URLSearchParams(window.location.search),u=e.get("q"),r=$("#search-results");if(r.length){let a=null,s=null,i={childList:!0},e=null,n=null,l=null,o=0,c=function(e,t){for(o=0;o<e.length;o++){var r;"childList"===e[o].type&&(a=$("ul.search-ul li:last-child"),s=a.children("a").prop("href").split("/"),$.each(excludedSearchFolders,function(e,t){if(-1!==$.inArray(t,s))return a.addClass("excluded-search-result"),a.hide(0),!1}),r=e[o].addedNodes[0],createResultBreadcrumb($(r).find(".result-link")).insertAfter($(r).find(".result-link")))}},t=function(e,t){for(o=0;o<e.length;o++){var r;"childList"===e[o].type&&$(e[o].addedNodes[0]).hasClass("search-ul")&&(r=$("ul.search-ul"),(n=new MutationObserver(c)).observe(r[0],i),(l=new MutationObserver(h)).observe($("#search-results > p")[0],i))}},h=function(e,t){for(o=0;o<e.length;o++)if("childList"===e[o].type){l.disconnect(),$("li .context").each(function(){if(SPHINX_HIGHLIGHT_ENABLED){var e=u.toLowerCase().split(/\s+/).filter(e=>e);for(o=0;o<e.length;o++)_highlightText(this,e[o],"highlighted")}});var r=$("ul.search-ul li").length,a=$("ul.search-ul li.excluded-search-result").length;let e="";0<r&&(e=0<a?'Found <span id="n-results">'+(r-a)+'</span> page(s) matching the search query. <a id="toggle-results" class="include" href="#">Include Release Notes results</a>':'Found <span id="n-results">'+r+"</span> page(s) matching the search query.",$("#search-results > p:first").html(e))}};(e=new MutationObserver(t)).observe(r[0],i)}}"undefined"==typeof Scorer&&(Scorer={objNameMatch:11,objPartialMatch:6,objPrio:{0:15,1:5,2:-5},objPrioDefault:0,title:15,partialTitle:7,term:5,partialTerm:2});let _removeChildren=e=>{for(;e&&e.lastChild;)e.removeChild(e.lastChild)},_escapeRegExp=e=>e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&"),_displayItem=(t,r)=>{var e=DOCUMENTATION_OPTIONS.BUILDER,a=DOCUMENTATION_OPTIONS.URL_ROOT,s=DOCUMENTATION_OPTIONS.FILE_SUFFIX,i=DOCUMENTATION_OPTIONS.LINK_SUFFIX,n=DOCUMENTATION_OPTIONS.SHOW_SEARCH_SUMMARY,[t,l,o,c,h,,]=t;let u=document.createElement("li"),d,p;if("dirhtml"===e){let e=t+"/";e.match(/\/index\/$/)?e=e.substring(0,e.length-6):"index/"===e&&(e=""),d=a+e,p=d}else d=a+t+s,p=t+i;e=u.appendChild(document.createElement("a"));e.href=p+o,e.dataset.score=h,e.innerHTML=l,e.classList.add("result-link"),c?u.appendChild(document.createElement("span")).innerHTML=" ("+c+")":n&&fetch(d).then(e=>e.text()).then(e=>{e&&u.appendChild(Search.makeSearchSummary(e,r))}),Search.output.appendChild(u)},_finishSearch=e=>{Search.stopPulse(),Search.title.innerText=_("Search results"),Search.status.innerText=e?_(`Search finished, found ${e} page(s) matching the search query.`):Documentation.gettext("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories.")},removeUnwanted=e=>{var t=[],r=[];for(i=0;i<e.length;i++)r.includes(e[i][0])||(e[i][2]="","index"!==e[i][0]&&t.push(e[i]),r.push(e[i][0]));return t},_displayNextItem=(e,t,r)=>{e.length?(_displayItem(e.pop(),r),setTimeout(()=>_displayNextItem(e,t,r),5)):_finishSearch(t)},Search=("undefined"==typeof splitQuery&&(splitQuery=e=>e.split(/[^\p{Letter}\p{Number}_\p{Emoji_Presentation}]+/gu).filter(e=>e)),{_index:null,_queued_query:null,_pulse_status:-1,htmlToText:e=>{e=(new DOMParser).parseFromString(e,"text/html"),e.querySelectorAll(".headerlink").forEach(e=>{e.remove()}),e=e.querySelector('[role="main"]');return void 0!==e?e.textContent:(console.warn("Content block not found. Sphinx search tries to obtain it via '[role=main]'. Could you check your theme or template."),"")},init:()=>{let t=new URLSearchParams(window.location.search).get("q");document.querySelectorAll('input[name="q"]').forEach(e=>e.value=t),t&&Search.performSearch(t)},loadIndex:e=>document.body.appendChild(document.createElement("script")).src=e,setIndex:e=>{Search._index=e,null!==Search._queued_query&&(e=Search._queued_query,Search._queued_query=null,Search.query(e))},hasIndex:()=>null!==Search._index,deferQuery:e=>Search._queued_query=e,stopPulse:()=>Search._pulse_status=-1,startPulse:()=>{if(!(0<=Search._pulse_status)){let e=()=>{Search._pulse_status=(Search._pulse_status+1)%4,Search.dots.innerText=".".repeat(Search._pulse_status),0<=Search._pulse_status&&window.setTimeout(e,500)};e()}},performSearch:e=>{var t=document.createElement("h1"),r=(t.textContent=_("Searching"),document.createElement("p")),a=(r.classList.add("search-summary"),r.innerText="",document.createElement("ul")),s=(a.classList.add("search-ul"),document.getElementById("search-results")),t=(Search.title=s.appendChild(t),Search.dots=Search.title.appendChild(document.createElement("span")),Search.status=s.appendChild(r),Search.output=s.appendChild(a),document.getElementById("search-progress"));t&&(t.innerText=_("Preparing search...")),Search.startPulse(),Search.hasIndex()?Search.query(e):Search.deferQuery(e)},query:e=>{var t=Search._index.filenames,r=Search._index.docnames,a=Search._index.titles,s=Search._index.alltitles,i=Search._index.indexentries;let n=new Stemmer,l=new Set,o=new Set,c=new Set,h=new Set(splitQuery(e.toLowerCase().trim())),u=(splitQuery(e.trim()).forEach(e=>{var t=e.toLowerCase();-1!==stopwords.indexOf(t)||e.match(/^\d+$/)||("-"===(e=n.stemWord(t))[0]?o.add(e.substr(1)):(l.add(e),c.add(t)))}),SPHINX_HIGHLIGHT_ENABLED&&localStorage.setItem("sphinx_highlight_terms",[...c].join(" ")),[]);_removeChildren(document.getElementById("search-progress"));var d,p,m,f,S=e.toLowerCase();for([d,p]of Object.entries(s))if(d.toLowerCase().includes(S)&&S.length>=d.length/2)for(var[x,g]of p){var _=Math.round(100*S.length/d.length);u.push([r[x],a[x]!==d?a[x]+" > "+d:d,null!==g?"#"+g:"",null,_,t[x]])}for([m,f]of Object.entries(i))if(m.includes(S)&&S.length>=m.length/2)for(var[y,w]of f){var v=Math.round(100*S.length/m.length);u.push([r[y],a[y],w?"#"+w:"",null,v,t[y]])}h.forEach(e=>u.push(...Search.performObjectSearch(e,h))),u.push(...Search.performTermsSearch(l,o)),Scorer.score&&u.forEach(e=>e[4]=Scorer.score(e)),u.sort((e,t)=>{var r=e[4],a=t[4];return r===a?(e=e[1].toLowerCase())===(t=t[1].toLowerCase())?0:t<e?-1:1:a<r?1:-1});let E=new Set;u=u.reverse().reduce((e,t)=>{var r=t.slice(0,4).concat([t[5]]).map(e=>String(e)).join(",");return E.has(r)||(e.push(t),E.add(r)),e},[]),u=(u=removeUnwanted(u)).reverse(),_displayNextItem(u,u.length,l)},performObjectSearch:(c,h)=>{let u=Search._index.filenames,d=Search._index.docnames,e=Search._index.objects,p=Search._index.objnames,m=Search._index.titles,f=[];return Object.keys(e).forEach(t=>e[t].forEach(e=>((r,a)=>{var s=a[4],i=(r?r+".":"")+s,n=i.toLowerCase();if(!(n.indexOf(c)<0)){let e=0;var l=n.split("."),n=(n===c||l.slice(-1)[0]===c?e+=Scorer.objNameMatch:-1<l.slice(-1)[0].indexOf(c)&&(e+=Scorer.objPartialMatch),p[a[1]][2]),l=m[a[0]],o=new Set(h);if(o.delete(c),0<o.size){let t=(r+` ${s} ${n} `+l).toLowerCase();if([...o].some(e=>t.indexOf(e)<0))return}let t=a[3];""===t?t=i:"-"===t&&(t=p[a[1]][1]+"-"+i);r=n+_(", in ")+l;Scorer.objPrio.hasOwnProperty(a[2])?e+=Scorer.objPrio[a[2]]:e+=Scorer.objPrioDefault,f.push([d[a[0]],i,"#"+t,r,e,u[a[0]]])}})(t,e))),f},performTermsSearch:(r,a)=>{let i=Search._index.terms,n=Search._index.titleterms;var s=Search._index.filenames,l=Search._index.docnames,o=Search._index.titles;let c=new Map,h=new Map;r.forEach(r=>{let a=[],s=[{files:i[r],score:Scorer.term},{files:n[r],score:Scorer.title}];if(2<r.length){let t=_escapeRegExp(r);Object.keys(i).forEach(e=>{e.match(t)&&!i[r]&&s.push({files:i[e],score:Scorer.partialTerm})}),Object.keys(n).forEach(e=>{e.match(t)&&!n[r]&&s.push({files:n[r],score:Scorer.partialTitle})})}s.every(e=>void 0===e.files)||(s.forEach(t=>{if(void 0!==t.files){let e=t.files;void 0===e.length&&(e=[e]),a.push(...e),e.forEach(e=>{c.has(e)||c.set(e,{}),c.get(e)[r]=t.score})}}),a.forEach(e=>{h.has(e)&&-1===h.get(e).indexOf(r)?h.get(e).push(r):h.set(e,[r])}))});var u=[];for(let[t,e]of h){var d=[...r].filter(e=>2<e.length).length;if(e.length===r.size||e.length===d){if([...a].some(e=>i[e]===t||n[e]===t||(i[e]||[]).includes(t)||(n[e]||[]).includes(t)))break;d=Math.max(...e.map(e=>c.get(t)[e]));u.push([l[t],o[t],"",null,d,s[t]])}}return u},makeSearchSummary:(e,t)=>{e=Search.htmlToText(e);if(""===e)return null;let r=e.toLowerCase();var t=[...t].map(e=>r.indexOf(e.toLowerCase())).filter(e=>-1<e).slice(-1)[0],t=Math.max(t-120,0),a=0===t?"":"...",s=t+240<e.length?"...":"",i=document.createElement("p");return i.classList.add("context"),i.textContent=a+e.substr(t,240).trim()+s,i}});_ready(Search.init);
//# sourceMappingURL=sphinx-search-ui.min.js.map